<!DOCTYPE html>
<html class="x-admin-sm" lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>添加志愿者信息</title>
    <meta content="webkit" name="renderer">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8" name="viewport"/>
    <link rel="stylesheet" href="/manage/css/xadmin.css">
	<link href="/manage/css/style.css?v=4.1.0" rel="stylesheet">
	<link href="/manage/css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
	<link rel="stylesheet" href="/manage/layui/css/layui.css"  media="all">
</head>
<body class="gray-bg">
    <div class="modal inmodal" id="friendlink-model">
		<div class="modal-content animated bounceInUp">
			<div class="ibox-content">
				<fieldset class="layui-elem-field layui-field-title" style="border-top:0px">
					<form class="layui-form layui-form-pane" action="">
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="officeid"><span style='color:red'>*</span>所属处室</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                	<select class="form-control input-outline" lay-verify="required" id="officeid" name="officeid"></select>
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="departmentid"><span style='color:red'>*</span>所属部门</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                	<select class="form-control input-outline" lay-verify="required" name="departmentid" id="departmentid"></select>
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="languageid"><span style='color:red'>*</span>语种</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                	<select class="form-control input-outline" lay-verify="required" id="languageid" name="languageid"></select>
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="postdate"><span style='color:red'>*</span>上岗日期</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                    <input lay-filter="postdate" readonly class="layui-input" lay-verify="required" autocomplete="off" id="postdate" name="postdate" type="text">
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="name"><span style='color:red'>*</span>姓名</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                    <input class="layui-input" autocomplete="off" id="name" lay-verify="required" name="name" type="text">
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="contactinfo"><span style='color:red'>*</span>联系方式</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                    <input class="layui-input" autocomplete="off" lay-verify="required" id="contactinfo" name="contactinfo" type="text">
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="college">学院</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                    <input class="layui-input" autocomplete="off" id="college" name="college" type="text">
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="studentnumber">学号</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                    <input class="layui-input" autocomplete="off" id="studentnumber" name="studentnumber" type="text">
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="sex">性别</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block radioborder">
                                	<input type="radio" value="0" id="sex1" checked title="男" name="sex">
									<input type="radio" value="1" name="sex" id="sex2" title="女">
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="height">身高</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                	<input class="layui-input" onkeyup="value=value.replace(/[^(\-)?\(0-9)+((0-9)))]/g,'')" placeholder="单位 cm" autocomplete="off" id="height" name="height" type="text">
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="bodyweight">体重</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                	<input class="layui-input" placeholder="单位 kg" autocomplete="off" id="bodyweight" name="bodyweight" type="text">
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="waist">腰围</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                	<input class="layui-input" placeholder="单位 尺" autocomplete="off" id="waist" name="waist" type="text">
								</div>
							</div>
						</div>
                        <div class="layui-form-item">
                            <label class="layui-form-label" for="teamleader">组长</label>
                            <div class="layui-input-block">
                                <div class="layui-input-inline layui-show-xs-block">
                                    <input class="layui-input" autocomplete="off" id="teamleader" name="teamleader" type="text">
								</div>
							</div>
						</div>
						<div class="layui-form-item"> 
							<div class="layui-input-block">	               
								<button class="layui-btn" lay-filter="add" lay-submit="">确认添加</button>
							</div>
						</div>
					</form>
				</fieldset>
			</div>
		</div>
	</div>
	<script charset="utf-8" src="/manage/js/jquery.min.js" type="text/javascript"></script>
	<script charset="utf-8" src="/manage/layui/layui.js" type="text/javascript"></script>
	<script charset="utf-8" src="/manage/js/xadmin.js" type="text/javascript"></script>
	<script charset="utf-8" src="/manage/js/vue.js" type="text/javascript"></script>
	<script src="/manage/js/bootstrap.min.js?v=3.3.6"></script>
	<script src="/manage/js/manage/common.js"></script>		
	<script charset="UTF-8" type="text/javascript">
    	layui.use(['form', 'layer', 'laydate'], function () {
            var form = layui.form, layer = layui.layer,laydate = layui.laydate;
            
            loadZhiYuanZhe(form,'',73,'departmentid',0);
			loadZhiYuanZhe(form,'',81,'languageid',1);
			loadZhiYuanZhe(form,'',88,'officeid',2);
			
			laydate.render({
			  elem: '#postdate'
			  ,format: 'yyyy-MM-dd'
			});
            
            //监听提交
            form.on('submit(add)', function (data) {
                //发异步，把数据提交给java
                $.ajax({
                    url: "/manage/Volunteer/volVolunteer/save",
                    data: JSON.stringify(data.field),
                    dataType: "json",
                    type: "post",
                    contentType: "application/json",
                    success: function (result) {
                        if (result.code === 1) {
                            layer.msg("增加成功", {icon: 6, time: 500}, function () {
                                //关闭当前frame
                                xadmin.close();
                                // 可以对父窗口进行刷新
                                xadmin.father_reload();
                            });
                        } else {
                            layer.alert(result.msg);
                        }
                    }
                });
				return false;
			});
		});
	</script>
</body>
</html>